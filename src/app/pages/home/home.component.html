<app-navbar (openCartEvent)="openCart()"></app-navbar>

<div class="relative w-full overflow-hidden" style="margin-top: 65px">
  <!-- Carousel container -->
  <div class="relative" style="height: 780px">
    <!-- Carousel slides -->
    <div
      class="relative flex transition-transform duration-500 ease-in-out transform"
      [style.transform]="'translateX(-' + currentSlide * 100 + '%)'"
    >
      <!-- Dynamic Slides -->
      <div *ngFor="let slide of carouselSlides" class="min-w-full relative">
        <div
          class="flex flex-col md:flex-row items-center px-4 md:px-12 py-8 md:py-16 bg-gradient-to-r from-gray-100 to-gray-200"
          style="height: 780px"
        >
          <div class="md:w-1/2 mb-8 md:mb-0 md:pr-8">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 text-gray-800">
              {{ slide.title }}
            </h2>
            <h3 class="text-xl md:text-2xl text-gray-600 mb-4">
              {{ slide.subtitle }}
            </h3>
            <p class="text-gray-700 mb-6">{{ slide.description }}</p>
            <button
              class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition-all duration-300 transform hover:scale-105"
            >
              Shop Now
            </button>
          </div>
          <div
            class="md:w-1/2 transform hover:scale-105 transition-transform duration-300"
          >
            <img
              style="height: 400px"
              [src]="slide.image"
              [alt]="slide.alt"
              class="rounded-lg shadow-2xl w-full"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation arrows -->
    <button
      (click)="previousSlide()"
      class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white/80 p-3 rounded-r-lg shadow-md hover:bg-green-500 hover:text-white transition-all duration-300"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"
        />
      </svg>
    </button>
    <button
      (click)="nextSlide()"
      class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white/80 p-3 rounded-l-lg shadow-md hover:bg-green-500 hover:text-white transition-all duration-300"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5l7 7-7 7"
        />
      </svg>
    </button>

    <!-- Slide indicators -->
    <div
      class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2"
      style="margin-top: -250px;"
    >
      <button
        *ngFor="let slide of carouselSlides; let i = index"
        (click)="goToSlide(i)"
        [class]="
          'w-2 h-2 rounded-full transition-all duration-300 ' +
          (currentSlide === i
            ? 'bg-green-500 w-8'
            : 'bg-white hover:bg-green-300')
        "
      ></button>
    </div>
  </div>
</div>

<section class="text-gray-600 body-font">
  <div class="container px-5 py-24 mx-auto flex flex-wrap">
    <div class="flex w-full mb-20 flex-wrap">
      <h1 class="sm:text-3xl text-2xl font-medium title-font text-gray-900 lg:w-1/3 lg:mb-0 mb-4">Timeless Craftsmanship & Modern Elegance</h1>
      <p class="lg:pl-6 lg:w-2/3 mx-auto leading-relaxed text-base">
        At Teddy george, we blend heritage craftsmanship with contemporary design to create furniture that stands the test of time. Our curated collection embodies sophistication, functionality, and sustainability, bringing warmth and character to any space.
      </p>
    </div>
    <div class="flex flex-wrap md:-m-2 -m-1">
      <div class="flex flex-wrap w-1/2">
        <div class="md:p-2 p-1 w-1/2">
          <img alt="gallery" class="w-full object-cover h-full object-center block" src="https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcTGcoe2r69bv3pQJpixvTvI5m3C47IJFcTTCFdVVw-A_u4mfv3ooQ_WJCe5RCe1YgpxBjilzcdgOmaw2Aw2UWB09F7GQ1CZuMnYcfqSh2egvAzmLz96guUskSXLR-MaLrZ_FyRqoQ&usqp=CAc">
        </div>
        <div class="md:p-2 p-1 w-1/2">
          <img alt="gallery" class="w-full object-cover h-full object-center block" src="https://i.pinimg.com/236x/89/40/97/89409782e7a6f95f56a7df58e8c4de1b.jpg">
        </div>
        <div class="md:p-2 p-1 w-full">
          <img alt="gallery" class="w-full h-full object-cover object-center block" src="https://i.pinimg.com/736x/2b/52/9e/2b529e99b2135e22d82f24bb31732aba.jpg">
        </div>
      </div>
      <div class="flex flex-wrap w-1/2">
        <div class="md:p-2 p-1 w-full">
          <img alt="gallery" class="w-full h-full object-cover object-center block" src="https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcQKln3k6REzfNPLkVxVsEVhIaIo3Q78WPpJycrKj1WuadAfjo0DP7LZx-fZwtOHYTi-qkelEOne_PnuEGq0BNUdOJ838XmfZArHwM0pZTbdBPUwbo31uqsx1g&usqp=CAc">
        </div>
        <div class="md:p-2 p-1 w-1/2">
          <img alt="gallery" class="w-full object-cover h-full object-center block" src="https://i.pinimg.com/236x/a5/17/15/a5171520b05c1c607022af6adb3ba82e.jpg">
        </div>
        <div class="md:p-2 p-1 w-1/2">
          <img alt="gallery" class="w-full object-cover h-full object-center block" src="https://i.pinimg.com/236x/33/96/93/339693b1521c663c5d1c1a8d51bfc6c5.jpg">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Categories section -->
<section class="py-12 px-4 md:px-8 " style="margin-top: -55px;">
  <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">
    Featured Products
  </h2>
  <p class="text-gray-600 text-center mb-8">
    Explore our handpicked selection of premium furniture pieces
  </p>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">

    <div class="product-card" (click)="viewDetails()" *ngFor="let product of filteredProducts">
      <img
        [src]="product.imageUrl"
        [alt]="product.name"
        class="product-image"
      />

      <div class="product-content">
        <h3 class="product-title">{{ product.name }}</h3>

        <div class="flex items-center mt-2">
          <div class="flex">
            <svg *ngFor="let star of getRatingStars(product.rating)" 
                 [class.text-yellow-400]="star === 1"
                 [class.text-gray-300]="star === 0"
                 class="h-5 w-5" 
                 fill="currentColor"
                 viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
            </svg>
          </div>
          <span class="ml-2 text-sm text-gray-600">({{ product.reviewCount }} reviews)</span>
        </div>

        <p class="product-description">{{ product.description }}</p>

        <div class="price-container">
          <div class="price-info">
            <span class="original-price" [class.on-sale]="product.onSale">
              R{{ product.price }}
            </span>
            <span *ngIf="product.onSale" class="sale-price">
              R{{ product.salePrice }}
            </span>
          </div>

          <div class="availability">
            <span *ngIf="!product.available" class="out-of-stock">
              Out of Stock
            </span>
            <button
              *ngIf="product.available"
              (click)="addToCart(product)"
              class="add-to-cart"
              style="background: black;"
            >
              Add to Cart
            </button>
          </div>
        </div>

        <div *ngIf="product.onSale" class="sale-badge">On Sale</div>
      </div>
    </div>
  </div>
  <div class="flex justify-center items-center mt-4">
    <button class="bg-black text-white hover:bg-blue-400 font-bold py-2 px-4 mt-3 rounded">
        View More
    </button>
</div>
</section>

<app-footer></app-footer>
